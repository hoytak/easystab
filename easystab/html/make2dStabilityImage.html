<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><title>R: Creates an image of the relative regions of stability for a...</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<link rel="stylesheet" type="text/css" href="R.css">
</head><body>

<table width="100%" summary="page for make2dStabilityImage"><tr><td>make2dStabilityImage</td><td align="right">R Documentation</td></tr></table>

<h2>Creates an image of the relative regions of stability for a 2d clustering.</h2>

<h3>Description</h3>


<p>For a set of 2d centroids, shows the regions of stability
and regions of instability for a given value of the
perturbation hyperparameter.  The values in this plot
indicate the contribution to the overall stability or
instability from a point located at that value. This
function is provided to demonstrate the intuitive
behavior of the method and to help analyze 2d datasets.
</p>


<h3>Usage</h3>

<pre>
  make2dStabilityImage(centroids, theta = 1, bounds = NULL,
    size = c(500, 500), buffer = 0.25)
</pre>


<h3>Arguments</h3>


<table summary="R argblock">
<tr valign="top"><td><code>centroids</code></td>
<td>
<p>Array of 2D centroid points, given as a
K by 2 array or matrix.</p>
</td></tr>
<tr valign="top"><td><code>theta</code></td>
<td>
<p>The rate parameter passed to the shifted
exponential prior on the perturbations.  <code>theta</code>
must be non-negative; a warning is issued if <code>theta
  &lt; 0</code>. The parameter indexes the strength of the
perturbations, with smaller values translating into
stronger perturbations.  If NULL, theta is chosen by
optimizing the overall stability against the baseline
distributions as in <code>getOptTheta</code>.</p>
</td></tr>
<tr valign="top"><td><code>bounds</code></td>
<td>
<p>The bounds of the image, given as a four
element array of <code>c(x_min, x_max, y_min, y_max)</code>. If
bounds is NULL, it is calculated automatically from the
centroids by giving a buffer region of <code>buffer</code>
times the absolute spread of centroids.</p>
</td></tr>
<tr valign="top"><td><code>size</code></td>
<td>
<p>Specify the x and y resolution of the image.
Given as <code>c(nx, ny)</code>; defaults to c(500,500).</p>
</td></tr>
<tr valign="top"><td><code>buffer</code></td>
<td>
<p>If <code>bounds</code> is NULL, then gives the
height or width of the margins of the image containing
the centroids.  For each x and y coordinates, this margin
is equal to <code>buffer</code> times the difference between
the minimum and maximum values present in the list of
centroids.</p>
</td></tr>
</table>


<h3>Value</h3>


<p>A list with elements <code>stability</code>, <code>x</code>,
<code>y</code>, <code>bounds</code>, <code>centroids</code>, and
<code>theta</code>. <code>stability</code> is the 2d image of size
<code>size</code> to be plotted as the map of stable and
unstable regions in the 2d space, <code>x</code> and <code>y</code>
give the x and y positions in <code>stability</code>,
<code>theta</code> gives the original <code>theta</code> passed to
the image, and <code>bounds</code> contains the <code>c(x_min,
  x_max, y_min, y_max)</code> bounds of the image.
</p>


<h3>Examples</h3>

<pre>
## Display the behavior of a set of centroids
library(easystab)

cen &lt;- matrix(c(0,-2,1,2,-2,1), ncol=2, byrow=TRUE)

Z &lt;- make2dStabilityImage(cen, buffer=2)
image(Z$x, Z$y, Z$stability)
points(Z$centroids)

## Something more detailed; display how things change by theta

layout(matrix(1:9, ncol = 3, byrow=TRUE))
for(i in 1:9) {
  t &lt;- (i - 1)/4
  Z &lt;- make2dStabilityImage(cen, theta=t, buffer=2)
  image(Z$x, Z$y, Z$stability, main = sprintf("Theta = %1.2f.", t),
        xlab = "x", ylab="y")
}
</pre>


</body></html>
