<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><title>R: Plot the stability scores produced by perturbationStability...</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<link rel="stylesheet" type="text/css" href="R.css">
</head><body>

<table width="100%" summary="page for plot.StabilityCollection"><tr><td>plot.StabilityCollection</td><td align="right">R Documentation</td></tr></table>

<h2>Plot the stability scores produced by perturbationStability as a sequence of
box plots.</h2>

<h3>Description</h3>


<p>Summary display of the output of the
perturbationStability function. Plot the stability scores
produced by perturbationStability as a sequence of box
plots.
</p>


<h3>Usage</h3>

<pre>
  ## S3 method for class 'StabilityCollection'
 plot(clusterings,
    sort = TRUE, prune = FALSE, label.indices = NULL, ...)
</pre>


<h3>Arguments</h3>


<table summary="R argblock">
<tr valign="top"><td><code>clusterings</code></td>
<td>
<p>The output of
<code>perturbationStablity</code> &ndash; a list of clusters with
perturbation stability analyses. Additionally:
</p>
<p>Set the <code>name</code> attribute of a specific clustering in
order to change the corresponding label on the box plots.
For example, <code>clusterings[[5]]$label &lt;- "Clust5"</code>
sets the displayed label of that clustering, overriding
the generated labels.
</p>
<p>Set the <code>color</code> attribute of a specific clustering
in order to change the color of boxplot.  The default is
to color the &quot;best&quot; one red, and the rest black (see
<code>color.best</code> below).  This overrides this behavior.</p>
</td></tr>
<tr valign="top"><td><code>sort</code></td>
<td>
<p>Whether to sort the results in ascending
order by the number of clusters in the data, then by
stability scores within the clusters.</p>
</td></tr>
<tr valign="top"><td><code>prune</code></td>
<td>
<p>If sort is TRUE, and multiple clusterings
are given for a specific number of clusters, then show
only the most stable one from each group.  For example,
if there were three clusterings in the collection that
had 5 clusters, only the most stable of those three would
be displayed.</p>
</td></tr>
<tr valign="top"><td><code>label.indices</code></td>
<td>
<p>If <code>label.indices</code> is TRUE,
then the original indices from <code>clusterings</code> is
included in the label for each box plot; if FALSE, they
are not included.  If <code>label.indices</code> is NULL
(default), then they are included only if items in the
graph are reordered.  Note that setting the <code>label</code>
attribute on the clusterings input overrides this.</p>
</td></tr>
<tr valign="top"><td><code>...</code></td>
<td>
<p>Additional parameters passed to the boxplot
function. See <code>boxplot</code> for more
information.</p>
</td></tr>
</table>


<h3>Examples</h3>

<pre>
## Generate a fake dataset with 3 clusters
cen &lt;- matrix(c(0,-2,1,2,-2,1), ncol=2, byrow=TRUE)
cl.size &lt;- 100
X &lt;- t(cbind(rbind(rnorm(cl.size,mean=cen[[1,1]]), rnorm(cl.size,mean=cen[[1,2]])),
            rbind(rnorm(cl.size,mean=cen[[2,1]]), rnorm(cl.size,mean=cen[[2,2]])),
            rbind(rnorm(cl.size,mean=cen[[3,1]]), rnorm(cl.size,mean=cen[[3,2]]))))


## Now try a range of numbers of clusters using kmeans
km_list1 &lt;- lapply(1:6, function(k) { kmeans(X, k, iter.max=50, nstart=100)})
stabilities1 &lt;- perturbationStability(from.kmeans(X, km_list1))

plot(stabilities1)

## Now plot each K with multiple runs of the clustering function.
## Now try several numbers of clusters using kmeans
km_list2 &lt;- lapply(0:17, function(k) { kmeans(X, 1 + (k %% 6))})
stabilities2 &lt;- perturbationStability(from.kmeans(X, km_list2))

plot(stabilities2)

## Plot the same thing, except without grouping by number of clusters
plot(stabilities2, sort=FALSE)

## If two clusterings have the same number of clusters, plot only the
## most stable one.
plot(stabilities2, prune=TRUE, sort=FALSE)

## Name the best one
stabilities2[[stabilities2$best.index]]$name &lt;- "BEST!!!"
plot(stabilities2)
</pre>


</body></html>
